Version 4
SHEET 1 2544 836
WIRE -80 -32 -432 -32
WIRE -16 -32 -80 -32
WIRE 272 -32 -16 -32
WIRE 528 -32 272 -32
WIRE 672 -32 528 -32
WIRE 816 -32 672 -32
WIRE 2112 -32 1056 -32
WIRE 272 -16 272 -32
WIRE 464 -16 432 -16
WIRE 608 -16 464 -16
WIRE 752 -16 608 -16
WIRE 528 0 528 -32
WIRE 672 0 672 -32
WIRE 816 0 816 -32
WIRE -80 16 -80 -32
WIRE -16 16 -16 -32
WIRE 208 32 128 32
WIRE 1264 32 944 32
WIRE 1440 32 1264 32
WIRE 1664 32 1440 32
WIRE 1888 32 1664 32
WIRE 128 48 128 32
WIRE 128 48 112 48
WIRE 464 48 464 -16
WIRE 608 48 608 -16
WIRE 752 48 752 -16
WIRE 432 80 432 -16
WIRE 432 80 272 80
WIRE 128 96 112 96
WIRE 272 96 208 96
WIRE -112 112 -320 112
WIRE 528 112 528 96
WIRE 672 112 672 96
WIRE 816 112 816 96
WIRE 1056 112 1056 -32
WIRE 1088 112 1056 112
WIRE 1200 112 1168 112
WIRE 1296 112 1200 112
WIRE 1392 112 1376 112
WIRE -432 128 -432 -32
WIRE -320 144 -320 112
WIRE 240 144 112 144
WIRE 2112 144 2112 -32
WIRE 944 160 944 32
WIRE 1264 160 1264 32
WIRE 1664 160 1664 32
WIRE 1888 160 1888 32
WIRE 1056 176 1056 112
WIRE 1200 176 1200 112
WIRE 1232 176 1200 176
WIRE 1632 176 1600 176
WIRE 1856 176 1824 176
WIRE 160 192 112 192
WIRE 304 192 160 192
WIRE 528 192 384 192
WIRE 672 192 528 192
WIRE 816 192 672 192
WIRE 1392 192 1392 112
WIRE 1392 192 1296 192
WIRE 1760 192 1696 192
WIRE 1984 192 1920 192
WIRE 1232 208 1200 208
WIRE 1392 208 1392 192
WIRE 1632 208 1392 208
WIRE 1760 208 1760 192
WIRE 1856 208 1760 208
WIRE 160 224 160 192
WIRE 1440 224 1440 112
WIRE -112 240 -144 240
WIRE 1984 240 1984 192
WIRE -320 256 -320 224
WIRE 304 272 304 192
WIRE 160 288 112 288
WIRE 672 288 672 192
WIRE 1056 288 1056 256
WIRE 1056 288 672 288
WIRE 1088 288 1056 288
WIRE 1200 288 1200 208
WIRE 1200 288 1168 288
WIRE 1296 288 1200 288
WIRE 1392 288 1376 288
WIRE -240 304 -272 304
WIRE -208 304 -240 304
WIRE -144 304 -144 240
WIRE -144 304 -208 304
WIRE 1440 320 1440 304
WIRE 1600 320 1600 176
WIRE 1600 320 1440 320
WIRE 1440 352 1440 320
WIRE -240 368 -240 304
WIRE 1984 368 1984 320
WIRE 272 400 272 96
WIRE 1728 400 272 400
WIRE 1760 400 1760 208
WIRE 1760 400 1728 400
WIRE -432 464 -432 208
WIRE -320 464 -320 336
WIRE -320 464 -432 464
WIRE -240 464 -240 432
WIRE -240 464 -320 464
WIRE -32 464 -32 336
WIRE -32 464 -240 464
WIRE 240 464 240 144
WIRE 240 464 -32 464
WIRE 304 464 304 352
WIRE 304 464 240 464
WIRE 944 464 944 240
WIRE 944 464 304 464
WIRE 1264 464 1264 224
WIRE 1264 464 944 464
WIRE 1392 464 1392 288
WIRE 1392 464 1264 464
WIRE 1440 464 1440 432
WIRE 1440 464 1392 464
WIRE 1664 464 1664 224
WIRE 1664 464 1440 464
WIRE 1824 464 1824 176
WIRE 1824 464 1664 464
WIRE 1888 464 1888 224
WIRE 1888 464 1824 464
WIRE 1984 464 1984 432
WIRE 1984 464 1888 464
WIRE 2112 464 2112 224
WIRE 2112 464 1984 464
WIRE -32 480 -32 464
FLAG -32 480 0
FLAG 160 192 V_inv
FLAG 2112 -32 V_out
IOPIN 2112 -32 Out
FLAG 1728 400 V_sense
IOPIN 1728 400 Out
FLAG -208 304 NInv
SYMBOL LM723 -32 80 R0
SYMATTR InstName U1
SYMBOL voltage -432 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL npn 208 -16 R0
SYMATTR InstName Q1
SYMATTR Value TIP122
SYMATTR Prefix X
SYMBOL npn 464 0 R0
SYMATTR InstName Q2
SYMATTR Value 2N3055
SYMBOL npn 608 0 R0
SYMATTR InstName Q3
SYMATTR Value 2N3055
SYMBOL npn 752 0 R0
SYMATTR InstName Q4
SYMATTR Value 2N3055
SYMBOL res 512 96 R0
SYMATTR InstName R2
SYMATTR Value 0.18
SYMBOL res 656 96 R0
SYMATTR InstName R3
SYMATTR Value 0.18
SYMBOL res 800 96 R0
SYMATTR InstName R4
SYMATTR Value 0.18
SYMBOL res 400 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 288 256 R0
SYMATTR InstName R7
SYMATTR Value 4.8k
SYMBOL cap 144 224 R0
WINDOW 3 26 47 Left 2
SYMATTR Value 100p
SYMATTR InstName C1
SYMBOL Opamps/opamp2 1264 128 R0
WINDOW 0 -20 64 Left 2
WINDOW 3 30 81 Left 2
SYMATTR InstName U2
SYMATTR Value LM324
SYMBOL res 1072 272 R180
WINDOW 0 -90 79 Left 2
WINDOW 3 -21 49 Left 2
SYMATTR InstName R_sense
SYMATTR Value .1
SYMBOL res 1184 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R_a}
SYMBOL res 1184 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R_a}
SYMBOL res 1280 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value {R_b}
SYMBOL res 1280 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value {R_b}
SYMBOL res 2096 128 R0
SYMATTR InstName R_load
SYMATTR Value 5
SYMBOL Opamps/opamp2 1664 128 R0
WINDOW 0 -22 65 Left 2
WINDOW 3 17 25 Left 2
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL voltage 944 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL res 224 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL Opamps/opamp2 1888 128 R0
SYMATTR InstName U4
SYMATTR Value LM324
SYMBOL res 1968 224 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL LED 1968 368 R0
SYMATTR InstName D1
SYMBOL res 1424 16 R0
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL potentiometer -336 240 R0
SYMATTR InstName U5
SYMATTR Value Rtot=100k wiper=0.9
SYMBOL res -336 128 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL cap -256 368 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 1424 336 R0
SYMATTR InstName R13
SYMATTR Value 30K
SYMBOL res 1424 208 R0
SYMATTR InstName R15
SYMATTR Value 60K
TEXT -712 184 Left 2 !.lib TIP122.lib\n.lib LM324.ti.lib
TEXT -720 320 Left 2 !.param R_a 10k\n.param R_b=200k
TEXT -712 248 Left 2 !.inc ilim.sub
TEXT -712 280 Left 2 !.inc potentiometer.sub
TEXT -704 88 Left 2 !.tran 1s
LINE Normal 400 496 400 -48 2
LINE Normal -128 496 -128 -48 2
LINE Normal 896 496 896 -48 2
LINE Normal 1408 496 1408 -48 2
LINE Normal 1792 496 1792 -48 2
LINE Normal 2064 496 2064 -48 2
